{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction bindEvents() {\n  const form = document.querySelector('.form');\n\n  if (!form) {\n    return;\n  }\n\n  form.addEventListener('submit', event => {\n    event.preventDefault();\n    const formData = new FormData(form);\n\n    const { delay, step, amount } = Object.fromEntries(formData);\n\n    createPromises(+delay, +step, +amount);\n\n    form.reset();\n  });\n}\n\nasync function createPromises(firstDelay, stepDelay, amount) {\n  const promises = Array.from(Array(amount).keys()).map(index =>\n    createPromise(index, firstDelay + index * stepDelay)\n      .then(({ position, delay }) => {\n        iziToast.show({\n          message: `✅ Fulfilled promise ${position + 1} in ${delay}ms`,\n          color: 'green',\n          position: 'topRight',\n        });\n      })\n      .catch(({ position, delay }) => {\n        iziToast.show({\n          message: `❌ Rejected promise ${position + 1} in ${delay}ms`,\n          color: 'red',\n          position: 'topRight',\n        });\n      })\n  );\n  await Promise.all(promises);\n}\n\nbindEvents();"],"names":["bindEvents","form","event","formData","delay","step","amount","createPromises","firstDelay","stepDelay","promises","index","position","iziToast"],"mappings":"wIAGA,SAASA,GAAa,CACpB,MAAMC,EAAO,SAAS,cAAc,OAAO,EAEtCA,GAILA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAW,IAAI,SAASF,CAAI,EAE5B,CAAE,MAAAG,EAAO,KAAAC,EAAM,OAAAC,CAAQ,EAAG,OAAO,YAAYH,CAAQ,EAE3DI,EAAe,CAACH,EAAO,CAACC,EAAM,CAACC,CAAM,EAErCL,EAAK,MAAK,CACd,CAAG,CACH,CAEA,eAAeM,EAAeC,EAAYC,EAAWH,EAAQ,CAC3D,MAAMI,EAAW,MAAM,KAAK,MAAMJ,CAAM,EAAE,KAAI,CAAE,EAAE,IAAIK,GACpD,cAAcA,EAAOH,EAAaG,EAAQF,CAAS,EAChD,KAAK,CAAC,CAAE,SAAAG,EAAU,MAAAR,KAAY,CAC7BS,EAAS,KAAK,CACZ,QAAS,uBAAuBD,EAAW,CAAC,OAAOR,CAAK,KACxD,MAAO,QACP,SAAU,UACpB,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAQ,EAAU,MAAAR,KAAY,CAC9BS,EAAS,KAAK,CACZ,QAAS,sBAAsBD,EAAW,CAAC,OAAOR,CAAK,KACvD,MAAO,MACP,SAAU,UACpB,CAAS,CACT,CAAO,CACP,EACE,MAAM,QAAQ,IAAIM,CAAQ,CAC5B,CAEAV,EAAY"}